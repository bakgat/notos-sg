!function(){"use strict";angular.module("notos",["notos.core","notos.layout","notos.data","notos.widgets","notos.dashboard","notos.websites","notos.filter"])}(),angular.module("notos.core",["ngAnimate","ngSanitize","ngResource","ui.bootstrap","ncy-angular-breadcrumb","restangular","blocks.exception","blocks.logger","blocks.router"]),function(){"use strict";angular.module("notos.dashboard",[])}(),function(){"use strict";angular.module("notos.data",[])}(),function(){"use strict";angular.module("notos.filter",[])}(),function(){"use strict";angular.module("notos.layout",[])}(),function(){"use strict";angular.module("notos.websites",[])}(),function(){"use strict";angular.module("notos.widgets",[])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router"])}(),function(){"use strict";function t(){function t(t){var e,o,r,i,a,s="",u="",c="",l=0;do e=t.charCodeAt(l++),o=t.charCodeAt(l++),u=t.charCodeAt(l++),r=e>>2,i=(3&e)<<4|o>>4,a=(15&o)<<2|u>>6,c=63&u,isNaN(o)?a=c=64:isNaN(u)&&(c=64),s=s+n.charAt(r)+n.charAt(i)+n.charAt(a)+n.charAt(c),e=o=u="",r=i=a=c="";while(l<t.length);return s}function e(t){var e,o,r,i,a,s="",u="",c="",l=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=n.indexOf(t.charAt(l++)),i=n.indexOf(t.charAt(l++)),a=n.indexOf(t.charAt(l++)),c=n.indexOf(t.charAt(l++)),e=r<<2|i>>4,o=(15&i)<<4|a>>2,u=(3&a)<<6|c,s+=String.fromCharCode(e),64!=a&&(s+=String.fromCharCode(o)),64!=c&&(s+=String.fromCharCode(u)),e=o=u="",r=i=a=c="";while(l<t.length);return s}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o={encode:t,decode:e};return o}angular.module("notos.core").factory("Base64",t)}(),function(){"use strict";function t(t,e,n,o){function r(){return e.$broadcast.apply(e,arguments)}function i(t){return/^[-]?\d+$/.test(t)}function a(t,e){return t&&-1!==t.toLowerCase().indexOf(e.toLowerCase())}var s={$broadcast:r,$q:t,$timeout:n,isNumber:i,logger:o,textContains:a};return s}angular.module("notos.core").factory("common",t),t.$inject=["$q","$rootScope","$timeout","logger"]}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.closeButton=!0,t.options.progressBar=!0,t.options.positionClass="toast-bottom-right"}function e(t,e,n,o,r){function a(){n.config.$urlRouterProvider=t,n.config.$stateProvider=e,n.config.title=i.appTitle}function s(){o.setOptions({prefixStateName:"index",template:"bootstrap3",includeAbstract:!0})}function u(){var t="/api";r.setBaseUrl(t)}a(),s(),u()}function n(t){t.$on("$viewContentLoaded",function(){angular.element("html, body").animate({scrollTop:0},200)})}function o(t){t.$on("$stateChangeError",function(t){t.preventDefault(),$state.go("error.404")})}var r=angular.module("notos.core");r.config(t),t.$inject=["toastr"];var i={appErrorPrefix:"[Fout] ",appTitle:"noTos",version:"1.0.0"};r.value("config",i),r.config(e),r.run(n),r.run(o),e.$inject=["$urlRouterProvider","$stateProvider","routehelperConfigProvider","$breadcrumbProvider","RestangularProvider"],n.$inject=["$rootScope"],o.$inject=["$rootScope"]}(),function(){"use strict";angular.module("notos.core").constant("toastr",toastr).constant("moment",moment).constant("_",window._)}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"error",config:{"abstract":!0,url:"/error",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"Fout"}},{state:"error.404",config:{url:"/404",views:{"content@error":{templateUrl:"js/modules/core/errors/404.html"}},title:"Pagina niet gevonden"}}]}angular.module("notos.core").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t,e,n,o,r,i){function a(){w.loadingMain=!0,w.loadingLevels=!0,w.loadingTags=!0,s(),u(),c().then(function(){m()})}function s(){function t(t){return w.tags=t,w.loadingTags=!1,w.tags}return e.getList().then(t)}function u(){function t(t){return w.levels=t,w.loadingLevels=!1,w.levels}return o.getList().then(t)}function c(){function t(t){return w.websites=i("orderBy")(t,"id",!0),w.loadingMain=!1,w.websites}return n.full().then(t)}function l(t){w.filter.levels.push(t);var e=w.levels.indexOf(t);w.levels.splice(e,1)}function f(t){w.levels.push(t);var e=w.filter.levels.indexOf(t);w.filter.levels.splice(e,1)}function g(t){w.filter.tags.push(t);var e=w.tags.indexOf(t);w.tags.splice(e,1)}function d(t){w.tags.push(t);var e=w.filter.tags.indexOf(t);w.filter.tags.splice(e,1)}function m(){w.filterFlag=w.filter.levels.length||w.filter.tags.length||w.filter.terms,w.filterFlag||(w.filtered=w.websites),w.totalItems=w.filtered.length,h()}function h(){var t=w.filtered.length,e=(w.currentPage-1)*w.itemsPerPage+1,n=e+(w.itemsPerPage-1);n>t&&(n=t),t>0&&t>w.itemsPerPage?w.paginationText="Toont "+e+(t>1?" -  "+n:"")+" (van "+t+" websites)":w.paginationText=""}function p(){for(;!w.randomSite||!w.randomSite.image;)$=Math.floor(Math.random()*w.websites.length),w.randomSite=w.websites[$];return w.randomSite}function v(){angular.element("html, body").animate({scrollTop:0},500)}function b(){n.suggest(w.idea),w.submitIdea=!1,w.acceptedIdea=!0}var $=-1,w=this;w.websites=[],w.filtered=[],w.tags=[],w.levels=[],w.filter={levels:[],tags:[],terms:""},w.addLevelFilter=l,w.removeLevelFilter=f,w.addTagFilter=g,w.removeTagFilter=d,w.randomSite=null,w.tagLimit=3,w.levelLimit=3,w.levelCollapsed=!0,w.tagCollapsed=!0,w.filterFlag=!1,w.itemsPerPage=10,w.currentPage=1,w.totalItems=0,w.pageChanged=v,w.idea={url:null,description:null},w.submitIdea=!1,w.acceptedIdea=!1,w.sendIdea=b,a(),t.$watch("vm.filter",function(t){w.websites.length&&(w.filtered=r(w.websites,w.filter)),m()},!0),t.$watchGroup(["vm.currentPage","vm.totalItems","vm.itemsPerPage"],function(){h()}),t.$watch("vm.websites",function(){w.websites.length&&p()})}angular.module("notos.dashboard").controller("DashboardController",t),t.$inject=["$scope","Tag","Website","Level","SearchWebsiteFilter","$filter"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"index",config:{"abstract":!0,url:"/index",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"start"}},{state:"index.dashboard",config:{url:"/dashboard",views:{"content@index":{templateUrl:"js/modules/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"}},title:"Dashboard"}}]}angular.module("notos.dashboard").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t){return function(e,n){if(""===n)return t.trustAsHtml(e);n=n.split(" "),n.sort(function(t,e){return e.length-t.length});var o=new RegExp("(?!<[^>]*?>)"+n.join("|")+"(?![^<]*?</[^>]*?>)","gi");return t.trustAsHtml(e.replace(o,'<span class="match">$&</span>'))}}angular.module("notos.data").filter("Highlight",t),t.$inject=["$sce"]}(),function(){"use strict";function t(t,e){var n;return n=e("http"),t.withConfig(function(t){t.setDefaultHttpFields({cache:n}),t.setResponseInterceptor(function(t,e){return("put"===e||"post"===e||"delete"===e)&&n.removeAll(),t}),t.setOnElemRestangularized(function(t,e){return t.clearCache=function(){n.removeAll()},t})})}angular.module("notos.data").factory("HTTPCache",t),t.$inject=["Restangular","$cacheFactory"]}(),function(){"use strict";function t(t){var e=t.service("group").one("levels");return e}angular.module("notos.filter").factory("Level",t),t.$inject=["HTTPCache"]}(),function(){"use strict";function t(t){var e=t.service("tags").one("type").one("website");return e}angular.module("notos.filter").factory("Tag",t),t.$inject=["HTTPCache"]}(),function(){"use strict";function t(){function t(){}t()}angular.module("notos.layout").controller("ShellController",t)}(),function(){"use strict";function t(t){return function(e,n){function o(t,e){-1===e.indexOf(t)&&e.push(t)}function r(e,n){return e&&t.contains(e.toLowerCase(),n.toLowerCase())}function i(e,n){return e&&t.contains(e.toLowerCase(),n.toLowerCase())}function a(e,n){return t.some(e,function(e){return e&&(t.contains(e.code.toLowerCase(),n.toLowerCase())||t.contains(e.name.toLowerCase(),n.toLowerCase()))})}function s(e,n){return t.some(e,function(e){return e&&t.contains(e.name.toLowerCase(),n.toLowerCase())})}var u=[],c=""===n.terms?null:n.terms.split(" "),l=n.tags,f=n.levels,g=[];return angular.forEach(e,function(e){l.length&&angular.forEach(e.tags,function(n){t.some(l,function(t){return t.id===n.id})&&o(e,g)})}),e=l.length?g:e,f.length&&(g=[],angular.forEach(e,function(e){t.any(f,function(n){return t.any(e.objectives,function(e){return t.some(e.levels,function(t){return t.level>0&&t.group.id===n.p_id})})})&&o(e,g)})),e=l.length||f.length?g:e,c?angular.forEach(e,function(e){t.some(c,function(t){return r(e.name,t)||i(e.description,t)||a(e.objectives,t)||s(e.tags,t)})&&o(e,u)}):u=g,u}}angular.module("notos.websites").filter("SearchWebsite",t),t.$inject=["_"]}(),function(){"use strict";function t(t){function e(){return t.service("websites").getList()}function n(){return t.service("websites").one("full").getList()}function o(e){return t.one("websites").post("suggest",e)}var r={full:n,getList:e,suggest:o};return r}angular.module("notos.websites").factory("Website",t),t.$inject=["HTTPCache"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function e(t){t.decorator("$exceptionHandler",n)}function n(t,e,n){return function(o,r){var i=e.config.appErrorPrefix||"",a={exception:o,cause:r};o.message=i+o.message,t(o,r),n.error(o.message,a)}}angular.module("blocks.exception").provider("exceptionHandler",t).config(e),e.$inject=["$provide"],n.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function t(t){function e(e){return function(n){t.error(e,n)}}var n={catcher:e};return n}angular.module("blocks.exception").factory("exception",t),t.$inject=["logger"]}(),function(){"use strict";function t(t,e){function n(n,o,r){e.error(n,r),t.error("Fout: "+n,o)}function o(n,o,r){e.info(n,r),t.info("Info: "+n,o)}function r(n,o,r){e.success(n,r),t.info("Succes: "+n,o)}function i(n,o,r){e.warning(n,r),t.warn("Let op: "+n,o)}function a(n,o,r){e.warning(n,r),t.warn("Verwijderd: "+n,o)}function s(n,o,r){e.success(n,r),t.info("Bewaard: "+n,o)}var u={showToasts:!0,error:n,info:o,success:r,warning:i,removed:a,saved:s,log:t.log};return u}angular.module("blocks.logger").factory("logger",t),t.$inject=["$log","toastr"]}(),function(){"use strict";function t(){this.config={},this.$get=function(){return{config:this.config}}}function e(t,e,n){function o(t){t.forEach(function(t){t.config.title&&(t.config.ncyBreadcrumb={label:t.config.title.toLowerCase()}),c.state(t.state,t.config)})}function r(){return n.get()}function i(t){var e=null;return r().forEach(function(n){n.name===t&&(e=n)}),e}function a(){s(),u.otherwise("/index/dashboard")}function s(){e.$on("$stateChangeSuccess",function(n,o,r){var i=t.config.title+(o.title?" | "+o.title:"");e.title=i,e.$state=o})}var u=t.config.$urlRouterProvider,c=t.config.$stateProvider,l={configureStates:o,states:r,get:i};return a(),l}angular.module("blocks.router").provider("routehelperConfig",t).factory("routehelper",e),e.$inject=["routehelperConfig","$rootScope","$state"]}(),function(){"use strict";function t(){function t(t,e,n){var o=angular.element('<i class="fa" />'),r=n.name.split(" ");angular.forEach(r,function(t){o.addClass("fa-"+t)}),e.replaceWith(o)}var e={restrict:"E",link:t};return e}angular.module("notos.widgets").directive("ntFa",t),t.$inject=[]}(),function(){"use strict";function t(t){function e(e,n,o){var r=angular.element("<pagination />");r.attr("data-boundary-links",!0),r.attr("data-total-items","totalItems"),r.attr("data-items-per-page","itemsPerPage"),r.attr("data-max-size",5),r.attr("data-ng-model","currentPage"),r.attr("data-previous-text","‹"),r.attr("data-next-text","›"),r.attr("data-first-text","«"),r.attr("data-last-text","»"),r.attr("data-ng-hide","hide"),o["class"]&&r.attr("class",o["class"]),t(r)(e),n.replaceWith(r)}function n(t){var e=this;e.hide=!1,e.itemsPerPage=10,e.currentPge=0,t.$watch("vm.totalItems",function(){e.hide=e.totalItems<=e.itemsPerPage})}var o={restrict:"EA",scope:{totalItems:"=",itemsPerPage:"=",currentPage:"="},link:e,controller:n,controllerAs:"vm",bindToController:!0};return n.$inject=["$scope"],o}angular.module("notos.widgets").directive("ntPagination",t),t.$inject=["$compile"]}(),function(){"use strict";function t(){return function(t,e){return t?(e=parseInt(e,10),t.slice(e)):[]}}angular.module("notos.widgets").filter("offset",t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdG9zLm1vZHVsZS5qcyIsImNvcmUvY29yZS5tb2R1bGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLm1vZHVsZS5qcyIsImRhdGEvZGF0YS5tb2R1bGUuanMiLCJmaWx0ZXIvZmlsdGVyLm1vZHVsZS5qcyIsImxheW91dC9sYXlvdXQubW9kdWxlLmpzIiwid2Vic2l0ZXMvd2Vic2l0ZXMubW9kdWxlLmpzIiwid2lkZ2V0cy93aWRnZXRzLm1vZHVsZS5qcyIsImJsb2Nrcy9leGNlcHRpb24vZXhjZXB0aW9uLm1vZHVsZS5qcyIsImJsb2Nrcy9sb2dnZXIvbG9nZ2VyLm1vZHVsZS5qcyIsImJsb2Nrcy9yb3V0ZXIvcm91dGVyLm1vZHVsZS5qcyIsImNvcmUvYmFzZTY0LmpzIiwiY29yZS9jb21tb24uanMiLCJhcHAubWluLmpzIiwiY29yZS9jb25maWcuanMiLCJjb3JlL2NvbnN0YW50cy5qcyIsImNvcmUvZXJyb3Iucm91dGVzLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5jb250cm9sbGVyLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5yb3V0ZXMuanMiLCJkYXRhL2hpZ2hsaWdodC5qcyIsImRhdGEvcmVzdGFuZ3VsYXIuY2FjaGUuanMiLCJmaWx0ZXIvbGV2ZWwuanMiLCJmaWx0ZXIvdGFnLmpzIiwibGF5b3V0L3NoZWxsLmNvbnRyb2xsZXIuanMiLCJ3ZWJzaXRlcy9zZWFyY2hXZWJzaXRlLmZpbHRlci5qcyIsIndlYnNpdGVzL3dlYnNpdGUuanMiLCJibG9ja3MvZXhjZXB0aW9uL2V4Y2VwdGlvbi1oYW5kbGVyLnByb3ZpZGVyLmpzIiwiYmxvY2tzL2V4Y2VwdGlvbi9leGNlcHRpb24uanMiLCJibG9ja3MvbG9nZ2VyL2xvZ2dlci5qcyIsImJsb2Nrcy9yb3V0ZXIvcm91dGVoZWxwZXIuanMiLCJ3aWRnZXRzL2ljb25zL250RmEuanMiLCJ3aWRnZXRzL25hdmlnYXRpb24vbnRQYWdpbmF0aW9uLmpzIiwid2lkZ2V0cy9uYXZpZ2F0aW9uL29mZnNldC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiQmFzZTY0IiwiZW5jb2RlIiwiaW5wdXQiLCJjaHIxIiwiY2hyMiIsImVuYzEiLCJlbmMyIiwiZW5jMyIsIm91dHB1dCIsImNocjMiLCJlbmM0IiwiaSIsImNoYXJDb2RlQXQiLCJpc05hTiIsImtleVN0ciIsImNoYXJBdCIsImxlbmd0aCIsImRlY29kZSIsImJhc2U2NHRlc3QiLCJleGVjIiwid2luZG93IiwiYWxlcnQiLCJyZXBsYWNlIiwiaW5kZXhPZiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInNlcnZpY2UiLCJmYWN0b3J5IiwiY29tbW9uIiwiJHEiLCIkcm9vdFNjb3BlIiwiJHRpbWVvdXQiLCJsb2dnZXIiLCIkYnJvYWRjYXN0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc051bWJlciIsInZhbCIsInRlc3QiLCJ0ZXh0Q29udGFpbnMiLCJ0ZXh0Iiwic2VhcmNoVGV4dCIsInRvTG93ZXJDYXNlIiwiJGluamVjdCIsInRvYXN0ckNvbmZpZyIsInRvYXN0ciIsIm9wdGlvbnMiLCJ0aW1lT3V0IiwiY2xvc2VCdXR0b24iLCJwcm9ncmVzc0JhciIsInBvc2l0aW9uQ2xhc3MiLCJjb25maWd1cmUiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsInJvdXRlaGVscGVyQ29uZmlnUHJvdmlkZXIiLCIkYnJlYWRjcnVtYlByb3ZpZGVyIiwiUmVzdGFuZ3VsYXJQcm92aWRlciIsImNvbmZpZ3VyZVJvdXRpbmciLCJjb25maWciLCJ0aXRsZSIsImFwcFRpdGxlIiwiY29uZmlndXJlQnJlYWRjcnVtYiIsInNldE9wdGlvbnMiLCJwcmVmaXhTdGF0ZU5hbWUiLCJ0ZW1wbGF0ZSIsImluY2x1ZGVBYnN0cmFjdCIsImNvbmZpZ3VyZVJlc3Rhbmd1bGFyIiwiYmFzZVVybCIsInNldEJhc2VVcmwiLCJhZnRlclZpZXdDb250ZW50TG9hZGVkIiwiJG9uIiwiZWxlbWVudCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJzZXQ0MDQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiJHN0YXRlIiwiZ28iLCJjb3JlIiwiYXBwRXJyb3JQcmVmaXgiLCJ2ZXJzaW9uIiwidmFsdWUiLCJydW4iLCJjb25zdGFudCIsIm1vbWVudCIsIl8iLCJjb25maWdSb3V0ZXMiLCJyb3V0ZWhlbHBlciIsImNvbmZpZ3VyZVN0YXRlcyIsImdldFN0YXRlcyIsInN0YXRlIiwiYWJzdHJhY3QiLCJ1cmwiLCJ2aWV3cyIsIm1haW5AIiwidGVtcGxhdGVVcmwiLCJjb250ZW50QGVycm9yIiwiRGFzaGJvYXJkQ29udHJvbGxlciIsIiRzY29wZSIsIlRhZyIsIldlYnNpdGUiLCJMZXZlbCIsIlNlYXJjaFdlYnNpdGVGaWx0ZXIiLCIkZmlsdGVyIiwiYWN0aXZhdGUiLCJ2bSIsImxvYWRpbmdNYWluIiwibG9hZGluZ0xldmVscyIsImxvYWRpbmdUYWdzIiwiZ2V0VGFncyIsImdldExldmVscyIsImdldFdlYnNpdGVzIiwidGhlbiIsInNldEZpbHRlckZsYWciLCJ0YWdzQ29tcGxldGVkIiwicmVzcG9uc2UiLCJ0YWdzIiwiZ2V0TGlzdCIsImxldmVsQ29tcGxldGVkIiwibGV2ZWxzIiwid2Vic2l0ZXNDb21wbGV0ZWQiLCJ3ZWJzaXRlcyIsImZ1bGwiLCJhZGRMZXZlbEZpbHRlciIsImxldmVsIiwiZmlsdGVyIiwicHVzaCIsImluZGV4Iiwic3BsaWNlIiwicmVtb3ZlTGV2ZWxGaWx0ZXIiLCJhZGRUYWdGaWx0ZXIiLCJ0YWciLCJyZW1vdmVUYWdGaWx0ZXIiLCJmaWx0ZXJGbGFnIiwidGVybXMiLCJmaWx0ZXJlZCIsInRvdGFsSXRlbXMiLCJzZXRQYWdpbmF0aW9uVGV4dCIsInRvdGFsIiwiZmxvb3IiLCJjdXJyZW50UGFnZSIsIml0ZW1zUGVyUGFnZSIsImNlaWwiLCJwYWdpbmF0aW9uVGV4dCIsInNldFJhbmRvbVNpdGUiLCJyYW5kb21TaXRlIiwiaW1hZ2UiLCJybmQiLCJNYXRoIiwicmFuZG9tIiwicGFnZUNoYW5nZWQiLCJzZW5kSWRlYSIsInN1Z2dlc3QiLCJpZGVhIiwic3VibWl0SWRlYSIsImFjY2VwdGVkSWRlYSIsInRoaXMiLCJ0YWdMaW1pdCIsImxldmVsTGltaXQiLCJsZXZlbENvbGxhcHNlZCIsInRhZ0NvbGxhcHNlZCIsImRlc2NyaXB0aW9uIiwiJHdhdGNoIiwiJHdhdGNoR3JvdXAiLCJjb250cm9sbGVyIiwiY29udGVudEBpbmRleCIsImNvbnRyb2xsZXJBcyIsIkhpZ2hsaWdodCIsIiRzY2UiLCJzdHIiLCJ0ZXJtc1RvSGlnaGxpZ2h0IiwidHJ1c3RBc0h0bWwiLCJzcGxpdCIsInNvcnQiLCJhIiwiYiIsInJlZ2V4IiwiUmVnRXhwIiwiam9pbiIsIkhUVFBDYWNoZSIsIlJlc3Rhbmd1bGFyIiwiJGNhY2hlRmFjdG9yeSIsImNhY2hlIiwid2l0aENvbmZpZyIsIlJlc3Rhbmd1bGFyQ29uZmlndXJlciIsInNldERlZmF1bHRIdHRwRmllbGRzIiwic2V0UmVzcG9uc2VJbnRlcmNlcHRvciIsIm9wZXJhdGlvbiIsInJlbW92ZUFsbCIsInNldE9uRWxlbVJlc3Rhbmd1bGFyaXplZCIsImVsZW0iLCJpc0NvbGxlY3Rpb24iLCJjbGVhckNhY2hlIiwib25lIiwiU2hlbGxDb250cm9sbGVyIiwiU2VhcmNoV2Vic2l0ZSIsImFkZFVuaXF1ZSIsIndlYnNpdGUiLCJsaXN0IiwibmFtZUNvbnRhaW5zVGVybSIsIm5hbWUiLCJ0ZXJtIiwiY29udGFpbnMiLCJkZXNjcmlwdGlvbkNvbnRhaW5zVGVybSIsIm9iamVjdGl2ZXNDb250YWluc1Rlcm0iLCJvYmplY3RpdmVzIiwic29tZSIsIm8iLCJjb2RlIiwidGFnc0NvbnRhaW5zVGVybSIsInQiLCJ0bXAiLCJmb3JFYWNoIiwiaWQiLCJhbnkiLCJvYmplY3RpdmUiLCJsIiwiZ3JvdXAiLCJwX2lkIiwiZGF0YSIsInBvc3QiLCJleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIiLCJ1bmRlZmluZWQiLCIkZ2V0IiwiJHByb3ZpZGUiLCJkZWNvcmF0b3IiLCJleHRlbmRFeGNlcHRpb25IYW5kbGVyIiwiJGRlbGVnYXRlIiwiZXhjZXB0aW9uSGFuZGxlciIsImV4Y2VwdGlvbiIsImNhdXNlIiwiZXJyb3JEYXRhIiwibWVzc2FnZSIsImVycm9yIiwicHJvdmlkZXIiLCJjYXRjaGVyIiwicmVhc29uIiwiJGxvZyIsImluZm8iLCJzdWNjZXNzIiwid2FybmluZyIsIndhcm4iLCJyZW1vdmVkIiwic2F2ZWQiLCJzaG93VG9hc3RzIiwibG9nIiwicm91dGVoZWxwZXJDb25maWciLCJzdGF0ZXMiLCJuY3lCcmVhZGNydW1iIiwibGFiZWwiLCJnZXQiLCJwYXR0ZXJuIiwicmVzdWx0IiwiaW5pdCIsInVwZGF0ZURvY1RpdGxlIiwib3RoZXJ3aXNlIiwiY3VycmVudCIsInByZXZpb3VzIiwibnRGYSIsImxpbmtGdW5jIiwic2NvcGUiLCJhdHRycyIsImNsYXNzZXMiLCJhZGRDbGFzcyIsInJlcGxhY2VXaXRoIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJsaW5rIiwibnRQYWdpbmF0aW9uIiwiJGNvbXBpbGUiLCJwYWdpbmF0aW9uIiwiYXR0ciIsIlBhZ2luYXRlQ29udHJvbGxlciIsImhpZGUiLCJjdXJyZW50UGdlIiwiYmluZFRvQ29udHJvbGxlciIsInN0YXJ0IiwicGFyc2VJbnQiLCJzbGljZSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUVBQSxTQUNBQyxPQUFBLFNBRUEsYUFDQSxlQUNBLGFBQ0EsZ0JBR0Esa0JBQ0EsaUJBQ0Esb0JDZEFELFFBQ0FDLE9BQUEsY0FFQSxZQUFBLGFBQUEsYUFHQSxlQUNBLHlCQUNBLGNBR0EsbUJBQ0EsZ0JBQ0Esa0JDYkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLHlCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSxvQkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsc0JDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLHNCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSx3QkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsdUJDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLG9CQUFBLHFCQ0pBLFdB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cUN0QytOLEVBbkJBNVEsUUFDQUMsT0FBQSxpQkFDQTJRLFVBQUEsZUFBQUcsR2xCeXRDSUEsRUFBYWxPLFNBQVcsZW1COXRDNUIsV0FDQSxZQU9BLFNBQUFtRixLQUNBLE1BQUEsVUFBQTVILEVBQUFtUixHQUNBLE1BQUFuUixJQUNBbVIsRUFBQUMsU0FBQUQsRUFBQSxJQUNBblIsRUFBQXFSLE1BQUFGLFFBVEF2UixRQUNBQyxPQUFBLGlCQUNBK0gsT0FBQSxTQUFBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zJywgW1xuICAgICAgICAgICAgLy9zaGFyZWQgbW9kdWxlc1xuICAgICAgICAgICAgJ25vdG9zLmNvcmUnLFxuICAgICAgICAgICAgJ25vdG9zLmxheW91dCcsXG4gICAgICAgICAgICAnbm90b3MuZGF0YScsXG4gICAgICAgICAgICAnbm90b3Mud2lkZ2V0cycsXG5cbiAgICAgICAgICAgIC8vYXBwIG1vZHVsZXNcbiAgICAgICAgICAgICdub3Rvcy5kYXNoYm9hcmQnLFxuICAgICAgICAgICAgJ25vdG9zLndlYnNpdGVzJyxcbiAgICAgICAgICAgICdub3Rvcy5maWx0ZXInXG4gICAgICAgIF0pO1xufSkoKTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnbm90b3MuY29yZScsIFtcbiAgICAgICAgLy9Bbmd1bGFyXG4gICAgICAgICduZ0FuaW1hdGUnLCAnbmdTYW5pdGl6ZScsICduZ1Jlc291cmNlJyxcblxuICAgICAgICAvLzNyZCBwYXJ0eVxuICAgICAgICAndWkuYm9vdHN0cmFwJyxcbiAgICAgICAgJ25jeS1hbmd1bGFyLWJyZWFkY3J1bWInLFxuICAgICAgICAncmVzdGFuZ3VsYXInLFxuXG4gICAgICAgIC8vY3Jvc3MgYXBwIG1vZHVsZXNcbiAgICAgICAgJ2Jsb2Nrcy5leGNlcHRpb24nLFxuICAgICAgICAnYmxvY2tzLmxvZ2dlcicsXG4gICAgICAgICdibG9ja3Mucm91dGVyJ1xuICAgIF0pOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvcy5kYXNoYm9hcmQnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvcy5kYXRhJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3MuZmlsdGVyJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3MubGF5b3V0JywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Mud2Vic2l0ZXMnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvcy53aWRnZXRzJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLmV4Y2VwdGlvbicsIFsnYmxvY2tzLmxvZ2dlciddKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5sb2dnZXInLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3Mucm91dGVyJywgW1xuICAgICAgICAgICAgJ3VpLnJvdXRlcidcbiAgICAgICAgXSk7XG59KSgpOyIsIi8qKlxuICogbm90b3MuY29yZVxuICogRkFDVE9SWTogQmFzZTY0XG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zLmNvcmUnKVxuICAgICAgICAuZmFjdG9yeSgnQmFzZTY0JywgQmFzZTY0KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEJhc2U2NCgpIHtcbiAgICAgICAgdmFyIGtleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgICAgICAgICBkZWNvZGU6IGRlY29kZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY2hyMSA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgICAgICAgICBjaHIyID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgICAgICAgICAgICAgIGNocjMgPSBpbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG5cbiAgICAgICAgICAgICAgICBlbmMxID0gY2hyMSA+PiAyO1xuICAgICAgICAgICAgICAgIGVuYzIgPSAoKGNocjEgJiAzKSA8PCA0KSB8IChjaHIyID4+IDQpO1xuICAgICAgICAgICAgICAgIGVuYzMgPSAoKGNocjIgJiAxNSkgPDwgMikgfCAoY2hyMyA+PiA2KTtcbiAgICAgICAgICAgICAgICBlbmM0ID0gY2hyMyAmIDYzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGNocjIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYzMgPSBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTihjaHIzKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmMxKSArXG4gICAgICAgICAgICAgICAgICAgIGtleVN0ci5jaGFyQXQoZW5jMikgK1xuICAgICAgICAgICAgICAgICAgICBrZXlTdHIuY2hhckF0KGVuYzMpICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmM0KTtcbiAgICAgICAgICAgICAgICBjaHIxID0gY2hyMiA9IGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVuYzEgPSBlbmMyID0gZW5jMyA9IGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgfSB3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IEEtWiwgYS16LCAwLTksICssIC8sIG9yID1cbiAgICAgICAgICAgIHZhciBiYXNlNjR0ZXN0ID0gL1teQS1aYS16MC05XFwrXFwvXFw9XS9nO1xuICAgICAgICAgICAgaWYgKGJhc2U2NHRlc3QuZXhlYyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoXCJUaGVyZSB3ZXJlIGludmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgaW4gdGhlIGlucHV0IHRleHQuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlZhbGlkIGJhc2U2NCBjaGFyYWN0ZXJzIGFyZSBBLVosIGEteiwgMC05LCAnKycsICcvJyxhbmQgJz0nXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdCBlcnJvcnMgaW4gZGVjb2RpbmcuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZywgXCJcIik7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBlbmMxID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuICAgICAgICAgICAgICAgIGVuYzIgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgICAgICAgICAgICAgZW5jMyA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICAgICAgICAgICAgICBlbmM0ID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuXG4gICAgICAgICAgICAgICAgY2hyMSA9IChlbmMxIDw8IDIpIHwgKGVuYzIgPj4gNCk7XG4gICAgICAgICAgICAgICAgY2hyMiA9ICgoZW5jMiAmIDE1KSA8PCA0KSB8IChlbmMzID4+IDIpO1xuICAgICAgICAgICAgICAgIGNocjMgPSAoKGVuYzMgJiAzKSA8PCA2KSB8IGVuYzQ7XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVuYzMgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVuYzQgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaHIxID0gY2hyMiA9IGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVuYzEgPSBlbmMyID0gZW5jMyA9IGVuYzQgPSBcIlwiO1xuXG4gICAgICAgICAgICB9IHdoaWxlIChpIDwgaW5wdXQubGVuZ3RoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH07XG59KSgpOyIsIi8qKlxuICogbm90b3MuY29yZVxuICogRkFDVE9SWTogY29tbW9uXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zLmNvcmUnKVxuICAgICAgICAuZmFjdG9yeSgnY29tbW9uJywgY29tbW9uKTtcblxuICAgIGZ1bmN0aW9uIGNvbW1vbigkcSwgJHJvb3RTY29wZSwgJHRpbWVvdXQsIGxvZ2dlcikge1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgLy8gY29tbW9uIGFuZ3VsYXIgZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICAkYnJvYWRjYXN0OiAkYnJvYWRjYXN0LFxuICAgICAgICAgICAgJHE6ICRxLFxuICAgICAgICAgICAgJHRpbWVvdXQ6ICR0aW1lb3V0LFxuICAgICAgICAgICAgLy8gZ2VuZXJpY1xuICAgICAgICAgICAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICAgICAgICAgICAgbG9nZ2VyOiBsb2dnZXIsXG4gICAgICAgICAgICB0ZXh0Q29udGFpbnM6IHRleHRDb250YWluc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uICRicm9hZGNhc3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHJvb3RTY29wZS4kYnJvYWRjYXN0LmFwcGx5KCRyb290U2NvcGUsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICAgICAgICAgICAgLy8gbmVnYXRpdmUgb3IgcG9zaXRpdmVcbiAgICAgICAgICAgIHJldHVybiAoL15bLV0/XFxkKyQvKS50ZXN0KHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0ZXh0Q29udGFpbnModGV4dCwgc2VhcmNoVGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQgJiYgLTEgIT09IHRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsbnVsbCwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29yZSA9IGFuZ3VsYXIubW9kdWxlKCdub3Rvcy5jb3JlJyk7XG5cbiAgICBjb3JlLmNvbmZpZyh0b2FzdHJDb25maWcpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gdG9hc3RyQ29uZmlnKHRvYXN0cikge1xuICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gNDAwMDtcbiAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xuICAgICAgICB0b2FzdHIub3B0aW9ucy5wcm9ncmVzc0JhciA9IHRydWU7XG4gICAgICAgIHRvYXN0ci5vcHRpb25zLnBvc2l0aW9uQ2xhc3MgPSAndG9hc3QtYm90dG9tLXJpZ2h0JztcbiAgICB9XG5cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBhcHBFcnJvclByZWZpeDogJ1tGb3V0XSAnLFxuICAgICAgICBhcHBUaXRsZTogJ25vVG9zJyxcbiAgICAgICAgdmVyc2lvbjogJzEuMC4wJ1xuICAgIH07XG5cbiAgICBjb3JlLnZhbHVlKCdjb25maWcnLCBjb25maWcpO1xuXG4gICAgY29yZS5jb25maWcoY29uZmlndXJlKTtcblxuICAgIGNvcmUucnVuKGFmdGVyVmlld0NvbnRlbnRMb2FkZWQpO1xuXG4gICAgY29yZS5ydW4oc2V0NDA0KTtcblxuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZmlndXJlKCR1cmxSb3V0ZXJQcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgIHJvdXRlaGVscGVyQ29uZmlnUHJvdmlkZXIsICRicmVhZGNydW1iUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgIFJlc3Rhbmd1bGFyUHJvdmlkZXIpIHtcblxuICAgICAgICBjb25maWd1cmVSb3V0aW5nKCk7XG4gICAgICAgIGNvbmZpZ3VyZUJyZWFkY3J1bWIoKTtcblxuICAgICAgICBjb25maWd1cmVSZXN0YW5ndWxhcigpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZVJvdXRpbmcoKSB7XG4gICAgICAgICAgICByb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyLmNvbmZpZy4kdXJsUm91dGVyUHJvdmlkZXIgPSAkdXJsUm91dGVyUHJvdmlkZXI7XG4gICAgICAgICAgICByb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyLmNvbmZpZy4kc3RhdGVQcm92aWRlciA9ICRzdGF0ZVByb3ZpZGVyO1xuXG4gICAgICAgICAgICByb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyLmNvbmZpZy50aXRsZSA9IGNvbmZpZy5hcHBUaXRsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUJyZWFkY3J1bWIoKSB7XG4gICAgICAgICAgICAkYnJlYWRjcnVtYlByb3ZpZGVyLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIHByZWZpeFN0YXRlTmFtZTogJ2luZGV4JyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ2Jvb3RzdHJhcDMnLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVBYnN0cmFjdDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVSZXN0YW5ndWxhcigpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVXJsID0gJy9hcGknO1xuXG4gICAgICAgICAgICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldEJhc2VVcmwoYmFzZVVybCk7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYWZ0ZXJWaWV3Q29udGVudExvYWRlZCgkcm9vdFNjb3BlKSB7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckdmlld0NvbnRlbnRMb2FkZWQnLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDIwMCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2V0NDA0KCRyb290U2NvcGUpIHtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2Vycm9yLjQwNCcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKCk7IiwiLyogZ2xvYmFsIHRvYXN0cjpmYWxzZSwgbW9tZW50OmZhbHNlICovXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvcy5jb3JlJylcbiAgICAgICAgLmNvbnN0YW50KCd0b2FzdHInLCB0b2FzdHIpXG4gICAgICAgIC5jb25zdGFudCgnbW9tZW50JywgbW9tZW50KVxuICAgICAgICAuY29uc3RhbnQoJ18nLCB3aW5kb3cuXyk7XG59KSgpOyIsIi8qKlxuICogUk9VVEVTOiBub3Rvcy5jb3JlXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvcy5jb3JlJylcbiAgICAgICAgLnJ1bihjb25maWdSb3V0ZXMpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZmlnUm91dGVzKHJvdXRlaGVscGVyKSB7XG4gICAgICAgIHJvdXRlaGVscGVyLmNvbmZpZ3VyZVN0YXRlcyhnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9lcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFpbkAnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2xheW91dC9tYWluLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRm91dCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnZXJyb3IuNDA0JyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnLzQwNCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBlcnJvcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvY29yZS9lcnJvcnMvNDA0Lmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1BhZ2luYSBuaWV0IGdldm9uZGVuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xufSkoKTsiLCIvKipcbiAqIG5vdG9zLmRhc2hib2FyZFxuICogQ09OVFJPTExFUjogRGFzaGJvYXJkQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3MuZGFzaGJvYXJkJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0Rhc2hib2FyZENvbnRyb2xsZXInLCBEYXNoYm9hcmRDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIERhc2hib2FyZENvbnRyb2xsZXIoJHNjb3BlLCBUYWcsIFdlYnNpdGUsIExldmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VhcmNoV2Vic2l0ZUZpbHRlciwgJGZpbHRlcikge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHJuZCA9IC0xO1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLndlYnNpdGVzID0gW107XG4gICAgICAgIHZtLmZpbHRlcmVkID0gW107XG4gICAgICAgIHZtLnRhZ3MgPSBbXTtcbiAgICAgICAgdm0ubGV2ZWxzID0gW107XG5cblxuICAgICAgICB2bS5maWx0ZXIgPSB7XG4gICAgICAgICAgICBsZXZlbHM6IFtdLFxuICAgICAgICAgICAgdGFnczogW10sXG4gICAgICAgICAgICB0ZXJtczogJydcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmFkZExldmVsRmlsdGVyID0gYWRkTGV2ZWxGaWx0ZXI7XG4gICAgICAgIHZtLnJlbW92ZUxldmVsRmlsdGVyID0gcmVtb3ZlTGV2ZWxGaWx0ZXI7XG4gICAgICAgIHZtLmFkZFRhZ0ZpbHRlciA9IGFkZFRhZ0ZpbHRlcjtcbiAgICAgICAgdm0ucmVtb3ZlVGFnRmlsdGVyID0gcmVtb3ZlVGFnRmlsdGVyO1xuXG4gICAgICAgIHZtLnJhbmRvbVNpdGUgPSBudWxsO1xuICAgICAgICB2bS50YWdMaW1pdCA9IDM7XG4gICAgICAgIHZtLmxldmVsTGltaXQgPSAzO1xuICAgICAgICB2bS5sZXZlbENvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgIHZtLnRhZ0NvbGxhcHNlZCA9IHRydWU7XG5cbiAgICAgICAgdm0uZmlsdGVyRmxhZyA9IGZhbHNlO1xuXG4gICAgICAgIHZtLml0ZW1zUGVyUGFnZSA9IDEwO1xuICAgICAgICB2bS5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIHZtLnRvdGFsSXRlbXMgPSAwO1xuXG4gICAgICAgIHZtLnBhZ2VDaGFuZ2VkID0gcGFnZUNoYW5nZWQ7XG5cbiAgICAgICAgdm0uaWRlYSA9IHt1cmw6IG51bGwsIGRlc2NyaXB0aW9uOiBudWxsfTtcbiAgICAgICAgdm0uc3VibWl0SWRlYSA9IGZhbHNlO1xuICAgICAgICB2bS5hY2NlcHRlZElkZWEgPSBmYWxzZTtcblxuICAgICAgICB2bS5zZW5kSWRlYSA9IHNlbmRJZGVhO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgIC8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICB2bS5sb2FkaW5nTWFpbiA9IHRydWU7XG4gICAgICAgICAgICB2bS5sb2FkaW5nTGV2ZWxzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZtLmxvYWRpbmdUYWdzID0gdHJ1ZTtcblxuICAgICAgICAgICAgZ2V0VGFncygpO1xuICAgICAgICAgICAgZ2V0TGV2ZWxzKCk7XG4gICAgICAgICAgICBnZXRXZWJzaXRlcygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNldEZpbHRlckZsYWcoKTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFRhZ3MoKSB7XG4gICAgICAgICAgICByZXR1cm4gVGFnLmdldExpc3QoKS50aGVuKHRhZ3NDb21wbGV0ZWQpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB0YWdzQ29tcGxldGVkKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdm0udGFncyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHZtLmxvYWRpbmdUYWdzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZtLnRhZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRMZXZlbHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gTGV2ZWwuZ2V0TGlzdCgpLnRoZW4obGV2ZWxDb21wbGV0ZWQpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBsZXZlbENvbXBsZXRlZChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLmxldmVscyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHZtLmxvYWRpbmdMZXZlbHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdm0ubGV2ZWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0V2Vic2l0ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gV2Vic2l0ZS5mdWxsKCkudGhlbih3ZWJzaXRlc0NvbXBsZXRlZCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHdlYnNpdGVzQ29tcGxldGVkKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdm0ud2Vic2l0ZXMgPSAkZmlsdGVyKCdvcmRlckJ5JykocmVzcG9uc2UsICdpZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgIDtcblxuXG4gICAgICAgICAgICAgICAgdm0ubG9hZGluZ01haW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdm0ud2Vic2l0ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZExldmVsRmlsdGVyKGxldmVsKSB7XG4gICAgICAgICAgICB2bS5maWx0ZXIubGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0ubGV2ZWxzLmluZGV4T2YobGV2ZWwpO1xuICAgICAgICAgICAgdm0ubGV2ZWxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVMZXZlbEZpbHRlcihsZXZlbCkge1xuICAgICAgICAgICAgdm0ubGV2ZWxzLnB1c2gobGV2ZWwpO1xuXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB2bS5maWx0ZXIubGV2ZWxzLmluZGV4T2YobGV2ZWwpO1xuICAgICAgICAgICAgdm0uZmlsdGVyLmxldmVscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkVGFnRmlsdGVyKHRhZykge1xuICAgICAgICAgICAgdm0uZmlsdGVyLnRhZ3MucHVzaCh0YWcpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0udGFncy5pbmRleE9mKHRhZyk7XG4gICAgICAgICAgICB2bS50YWdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVUYWdGaWx0ZXIodGFnKSB7XG4gICAgICAgICAgICB2bS50YWdzLnB1c2godGFnKTtcblxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uZmlsdGVyLnRhZ3MuaW5kZXhPZih0YWcpO1xuICAgICAgICAgICAgdm0uZmlsdGVyLnRhZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3ZtLmZpbHRlcicsIGZ1bmN0aW9uICh0YWdzKSB7XG4gICAgICAgICAgICBpZiAodm0ud2Vic2l0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdm0uZmlsdGVyZWQgPSBTZWFyY2hXZWJzaXRlRmlsdGVyKHZtLndlYnNpdGVzLCB2bS5maWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RmlsdGVyRmxhZygpO1xuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAkc2NvcGUuJHdhdGNoR3JvdXAoWyd2bS5jdXJyZW50UGFnZScsICd2bS50b3RhbEl0ZW1zJywgJ3ZtLml0ZW1zUGVyUGFnZSddLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRQYWdpbmF0aW9uVGV4dCgpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIGZ1bmN0aW9uIHNldEZpbHRlckZsYWcoKSB7XG4gICAgICAgICAgICB2bS5maWx0ZXJGbGFnID0gdm0uZmlsdGVyLmxldmVscy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICB2bS5maWx0ZXIudGFncy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICB2bS5maWx0ZXIudGVybXM7XG5cbiAgICAgICAgICAgIGlmICghdm0uZmlsdGVyRmxhZykge1xuICAgICAgICAgICAgICAgIHZtLmZpbHRlcmVkID0gdm0ud2Vic2l0ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2bS50b3RhbEl0ZW1zID0gdm0uZmlsdGVyZWQubGVuZ3RoO1xuXG4gICAgICAgICAgICBzZXRQYWdpbmF0aW9uVGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0UGFnaW5hdGlvblRleHQoKSB7XG4gICAgICAgICAgICB2YXIgdG90YWwgPSB2bS5maWx0ZXJlZC5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgZmxvb3IgPSAoKHZtLmN1cnJlbnRQYWdlIC0gMSkgKiB2bS5pdGVtc1BlclBhZ2UpICsgMTtcbiAgICAgICAgICAgIHZhciBjZWlsID0gZmxvb3IgKyAodm0uaXRlbXNQZXJQYWdlIC0gMSk7XG4gICAgICAgICAgICBpZiAoY2VpbCA+IHRvdGFsKSB7XG4gICAgICAgICAgICAgICAgY2VpbCA9IHRvdGFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodG90YWwgPiAwICYmIHRvdGFsID4gdm0uaXRlbXNQZXJQYWdlKSB7XG4gICAgICAgICAgICAgICAgdm0ucGFnaW5hdGlvblRleHQgPSAnVG9vbnQgJyArIGZsb29yICtcbiAgICAgICAgICAgICAgICAgICAgKHRvdGFsID4gMSA/ICcgLSAnICsgJyAnICsgY2VpbCA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICcgKHZhbiAnICsgdG90YWwgKyAnIHdlYnNpdGVzKSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZtLnBhZ2luYXRpb25UZXh0ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuJHdhdGNoKCd2bS53ZWJzaXRlcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh2bS53ZWJzaXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzZXRSYW5kb21TaXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBzZXRSYW5kb21TaXRlKCkge1xuICAgICAgICAgICAgd2hpbGUgKCF2bS5yYW5kb21TaXRlIHx8ICF2bS5yYW5kb21TaXRlLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgcm5kID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIHZtLndlYnNpdGVzLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIHZtLnJhbmRvbVNpdGUgPSB2bS53ZWJzaXRlc1tybmRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZtLnJhbmRvbVNpdGU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwYWdlQ2hhbmdlZCgpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDUwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZW5kSWRlYSgpIHtcbiAgICAgICAgICAgIFdlYnNpdGUuc3VnZ2VzdCh2bS5pZGVhKTtcblxuICAgICAgICAgICAgdm0uc3VibWl0SWRlYSA9IGZhbHNlO1xuICAgICAgICAgICAgdm0uYWNjZXB0ZWRJZGVhID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBST1VURVM6IG5vdG9zLmRhc2hib2FyZFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3MuZGFzaGJvYXJkJylcbiAgICAgICAgLnJ1bihjb25maWdSb3V0ZXMpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZmlnUm91dGVzKHJvdXRlaGVscGVyKSB7XG4gICAgICAgIHJvdXRlaGVscGVyLmNvbmZpZ3VyZVN0YXRlcyhnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZGV4JyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9pbmRleCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFpbkAnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2xheW91dC9tYWluLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnc3RhcnQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZGV4LmRhc2hib2FyZCcsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9kYXNoYm9hcmQnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAaW5kZXgnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2Rhc2hib2FyZC9kYXNoYm9hcmQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Rhc2hib2FyZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfTtcbn0pKCk7IiwiLyoqXG4gKiBub3Rvcy5kYXRhXG4gKiBGSUxURVI6IEhpZ2hsaWdodFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3MuZGF0YScpXG4gICAgICAgIC5maWx0ZXIoJ0hpZ2hsaWdodCcsIEhpZ2hsaWdodCk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhpZ2hsaWdodCgkc2NlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RyLCB0ZXJtc1RvSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICBpZiAodGVybXNUb0hpZ2hsaWdodCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbChzdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU29ydCB0ZXJtcyBieSBsZW5ndGhcbiAgICAgICAgICAgIHRlcm1zVG9IaWdobGlnaHQgPSB0ZXJtc1RvSGlnaGxpZ2h0LnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICAgIHRlcm1zVG9IaWdobGlnaHQuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFJlZ2V4IHRvIHNpbXVsdGFuZW91c2x5IHJlcGxhY2UgdGVybXNcbiAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJyg/ITxbXj5dKj8+KScgKyB0ZXJtc1RvSGlnaGxpZ2h0LmpvaW4oJ3wnKSArICcoPyFbXjxdKj88L1tePl0qPz4pJywgJ2dpJyk7XG4gICAgICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbChzdHIucmVwbGFjZShyZWdleCwgJzxzcGFuIGNsYXNzPVwibWF0Y2hcIj4kJjwvc3Bhbj4nKSk7XG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qKlxuICogbm90b3MuZGF0YVxuICogRkFDVE9SWTogSFRUUENhY2hlXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zLmRhdGEnKVxuICAgICAgICAuZmFjdG9yeSgnSFRUUENhY2hlJywgSFRUUENhY2hlKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEhUVFBDYWNoZShSZXN0YW5ndWxhciwgJGNhY2hlRmFjdG9yeSkge1xuICAgICAgICB2YXIgY2FjaGU7XG4gICAgICAgIGNhY2hlID0gJGNhY2hlRmFjdG9yeSgnaHR0cCcpO1xuXG4gICAgICAgIHJldHVybiBSZXN0YW5ndWxhci53aXRoQ29uZmlnKGZ1bmN0aW9uIChSZXN0YW5ndWxhckNvbmZpZ3VyZXIpIHtcbiAgICAgICAgICAgIFJlc3Rhbmd1bGFyQ29uZmlndXJlci5zZXREZWZhdWx0SHR0cEZpZWxkcyh7Y2FjaGU6IGNhY2hlfSk7XG4gICAgICAgICAgICBSZXN0YW5ndWxhckNvbmZpZ3VyZXIuc2V0UmVzcG9uc2VJbnRlcmNlcHRvcihmdW5jdGlvbiAocmVzcG9uc2UsIG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdwdXQnIHx8IG9wZXJhdGlvbiA9PT0gJ3Bvc3QnIHx8IG9wZXJhdGlvbiA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBDdXN0b20gR2xvYmFsIE1ldGhvZChzKSBmb3IgUmVzdGFuZ3VsYXJpemVkIEVsZW1lbnRzLlxuICAgICAgICAgICAgUmVzdGFuZ3VsYXJDb25maWd1cmVyLnNldE9uRWxlbVJlc3Rhbmd1bGFyaXplZChmdW5jdGlvbihlbGVtLCBpc0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBlbGVtLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBub3Rvcy5maWx0ZXJcbiAqIEZBQ1RPUlk6IExldmVsXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zLmZpbHRlcicpXG4gICAgICAgIC5mYWN0b3J5KCdMZXZlbCcsIExldmVsKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIExldmVsKEhUVFBDYWNoZSkge1xuICAgICAgICB2YXIgc2VydmljZSA9IEhUVFBDYWNoZS5zZXJ2aWNlKCdncm91cCcpLm9uZSgnbGV2ZWxzJyk7XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zLmZpbHRlclxuICogRkFDVE9SWTogVGFnXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zLmZpbHRlcicpXG4gICAgICAgIC5mYWN0b3J5KCdUYWcnLCBUYWcpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVGFnKEhUVFBDYWNoZSkge1xuICAgICAgICB2YXIgc2VydmljZSA9IEhUVFBDYWNoZS5zZXJ2aWNlKCd0YWdzJykub25lKCd0eXBlJykub25lKCd3ZWJzaXRlJyk7XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zLmxheW91dFxuICogQ09OVFJPTExFUjogU2hlbGxDb250cm9sbGVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvcy5sYXlvdXQnKVxuICAgICAgICAuY29udHJvbGxlcignU2hlbGxDb250cm9sbGVyJywgU2hlbGxDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFNoZWxsQ29udHJvbGxlcigpIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cblxuICAgICAgICBhY3RpdmF0ZSgpO1xuICAgICAgICAvLy8vLy8vLy8vLy8vXG5cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgICAgICB9XG5cblxuICAgIH1cblxuXG59KSgpOyIsIi8qKlxuICogbm90b3Mud2Vic2l0ZXNcbiAqIEZJTFRFUjogU2VhcmNoV2Vic2l0ZVxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Mud2Vic2l0ZXMnKVxuICAgICAgICAuZmlsdGVyKCdTZWFyY2hXZWJzaXRlJywgU2VhcmNoV2Vic2l0ZSk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlYXJjaFdlYnNpdGUoXykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHdlYnNpdGVzLCBmaWx0ZXIpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xuICAgICAgICAgICAgdmFyIHRlcm1zID0gZmlsdGVyLnRlcm1zID09PSAnJyA/IG51bGwgOiBmaWx0ZXIudGVybXMuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIHZhciB0YWdzID0gZmlsdGVyLnRhZ3M7XG4gICAgICAgICAgICB2YXIgbGV2ZWxzID0gZmlsdGVyLmxldmVscztcblxuICAgICAgICAgICAgdmFyIHRtcCA9IFtdO1xuXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2god2Vic2l0ZXMsIGZ1bmN0aW9uICh3ZWJzaXRlKSB7XG4gICAgICAgICAgICAgICAgLy9GSVJTVCBmaWx0ZXIgYnkgVGFncyBBTkQgTGV2ZWxzIChBTkQgb3BlcmF0b3IpXG4gICAgICAgICAgICAgICAgLy9jaGVjayB0YWdzXG4gICAgICAgICAgICAgICAgaWYgKHRhZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh3ZWJzaXRlLnRhZ3MsIGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGFnIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXy5zb21lKHRhZ3MsIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LmlkID09PSB0YWcuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRVbmlxdWUod2Vic2l0ZSwgdG1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHdlYnNpdGVzID0gdGFncy5sZW5ndGggPyB0bXAgOiB3ZWJzaXRlcztcbiAgICAgICAgICAgIGlmIChsZXZlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdG1wID0gW107XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHdlYnNpdGVzLCBmdW5jdGlvbiAod2Vic2l0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIG9iamVjdGl2ZSBsZXZlbHNcblxuICAgICAgICAgICAgICAgICAgICBpZiAoXy5hbnkobGV2ZWxzLCBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5hbnkod2Vic2l0ZS5vYmplY3RpdmVzLCBmdW5jdGlvbiAob2JqZWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfLnNvbWUob2JqZWN0aXZlLmxldmVscywgZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsLmxldmVsID4gMCAmJiBsLmdyb3VwLmlkID09PSBsZXZlbC5wX2lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFVuaXF1ZSh3ZWJzaXRlLCB0bXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vV2l0aGluIHRoZXNlIHJlc3VsdHMgZmlsdGVyIGJ5IHRlcm1zIChPUiBvcGVyYXRvcilcbiAgICAgICAgICAgIHdlYnNpdGVzID0gdGFncy5sZW5ndGggfHwgbGV2ZWxzLmxlbmd0aCA/IHRtcCA6IHdlYnNpdGVzO1xuICAgICAgICAgICAgaWYgKHRlcm1zKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHdlYnNpdGVzLCBmdW5jdGlvbiAod2Vic2l0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBuYW1lIGFuZCBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uc29tZSh0ZXJtcywgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWVDb250YWluc1Rlcm0od2Vic2l0ZS5uYW1lLCB0KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25Db250YWluc1Rlcm0od2Vic2l0ZS5kZXNjcmlwdGlvbiwgdCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdGl2ZXNDb250YWluc1Rlcm0od2Vic2l0ZS5vYmplY3RpdmVzLCB0KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnc0NvbnRhaW5zVGVybSh3ZWJzaXRlLnRhZ3MsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVW5pcXVlKHdlYnNpdGUsIGZpbHRlcmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyZWQ7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFVuaXF1ZSh3ZWJzaXRlLCBsaXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3QuaW5kZXhPZih3ZWJzaXRlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHdlYnNpdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gbmFtZUNvbnRhaW5zVGVybShuYW1lLCB0ZXJtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUgJiYgXy5jb250YWlucyhuYW1lLnRvTG93ZXJDYXNlKCksIHRlcm0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlc2NyaXB0aW9uQ29udGFpbnNUZXJtKGRlc2NyaXB0aW9uLCB0ZXJtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uICYmIF8uY29udGFpbnMoZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSwgdGVybS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gb2JqZWN0aXZlc0NvbnRhaW5zVGVybShvYmplY3RpdmVzLCB0ZXJtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uc29tZShvYmplY3RpdmVzLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbyAmJiAoXy5jb250YWlucyhvLmNvZGUudG9Mb3dlckNhc2UoKSwgdGVybS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgXy5jb250YWlucyhvLm5hbWUudG9Mb3dlckNhc2UoKSwgdGVybS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRhZ3NDb250YWluc1Rlcm0odGFncywgdGVybSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfLnNvbWUodGFncywgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgJiYgKF8uY29udGFpbnModC5uYW1lLnRvTG93ZXJDYXNlKCksIHRlcm0udG9Mb3dlckNhc2UoKSkpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgfVxufSlcbigpOyIsIi8qKlxuICogbm90b3Mud2Vic2l0ZXNcbiAqIEZBQ1RPUlk6IFdlYnNpdGVcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Mud2Vic2l0ZXMnKVxuICAgICAgICAuZmFjdG9yeSgnV2Vic2l0ZScsIFdlYnNpdGUpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gV2Vic2l0ZShIVFRQQ2FjaGUpIHtcblxuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGZ1bGw6IGZ1bGwsXG4gICAgICAgICAgICBnZXRMaXN0OiBnZXRMaXN0LFxuICAgICAgICAgICAgc3VnZ2VzdDogc3VnZ2VzdFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TGlzdCgpIHtcbiAgICAgICAgICAgIHJldHVybiBIVFRQQ2FjaGUuc2VydmljZSgnd2Vic2l0ZXMnKS5nZXRMaXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmdWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIEhUVFBDYWNoZS5zZXJ2aWNlKCd3ZWJzaXRlcycpLm9uZSgnZnVsbCcpLmdldExpc3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHN1Z2dlc3QoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIEhUVFBDYWNoZS5vbmUoJ3dlYnNpdGVzJykucG9zdCgnc3VnZ2VzdCcsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvLyBJbmNsdWRlIGluIGluZGV4Lmh0bWwgc28gdGhhdCBhcHAgbGV2ZWwgZXhjZXB0aW9ucyBhcmUgaGFuZGxlZC5cbi8vIEV4Y2x1ZGUgZnJvbSB0ZXN0UnVubmVyLmh0bWwgd2hpY2ggc2hvdWxkIHJ1biBleGFjdGx5IHdoYXQgaXQgd2FudHMgdG8gcnVuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3MuZXhjZXB0aW9uJylcbiAgICAgICAgLnByb3ZpZGVyKCdleGNlcHRpb25IYW5kbGVyJywgZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKVxuICAgICAgICAuY29uZmlnKGNvbmZpZyk7XG5cbiAgICAvKipcbiAgICAgKiBNdXN0IGNvbmZpZ3VyZSB0aGUgZXhjZXB0aW9uIGhhbmRsaW5nXG4gICAgICogQHJldHVybiB7W3R5cGVdfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcigpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgYXBwRXJyb3JQcmVmaXg6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY29uZmlndXJlID0gZnVuY3Rpb24gKGFwcEVycm9yUHJlZml4KSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hcHBFcnJvclByZWZpeCA9IGFwcEVycm9yUHJlZml4O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtjb25maWc6IHRoaXMuY29uZmlnfTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYnkgc2V0dGluZyBhbiBvcHRpb25hbCBzdHJpbmcgdmFsdWUgZm9yIGFwcEVycm9yUHJlZml4LlxuICAgICAqIEFjY2Vzc2libGUgdmlhIGNvbmZpZy5hcHBFcnJvclByZWZpeCAodmlhIGNvbmZpZyB2YWx1ZSkuXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSAkcHJvdmlkZVxuICAgICAqIEByZXR1cm4ge1t0eXBlXX1cbiAgICAgKiBAbmdJbmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25maWcoJHByb3ZpZGUpIHtcbiAgICAgICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckZXhjZXB0aW9uSGFuZGxlcicsIGV4dGVuZEV4Y2VwdGlvbkhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCB0aGUgJGV4Y2VwdGlvbkhhbmRsZXIgc2VydmljZSB0byBhbHNvIGRpc3BsYXkgYSB0b2FzdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICRkZWxlZ2F0ZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZXhjZXB0aW9uSGFuZGxlclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbG9nZ2VyXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IHRoZSBkZWNvcmF0ZWQgJGV4Y2VwdGlvbkhhbmRsZXIgc2VydmljZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV4dGVuZEV4Y2VwdGlvbkhhbmRsZXIoJGRlbGVnYXRlLCBleGNlcHRpb25IYW5kbGVyLCBsb2dnZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAgICAgICAgICAgIHZhciBhcHBFcnJvclByZWZpeCA9IGV4Y2VwdGlvbkhhbmRsZXIuY29uZmlnLmFwcEVycm9yUHJlZml4IHx8ICcnO1xuICAgICAgICAgICAgdmFyIGVycm9yRGF0YSA9IHtleGNlcHRpb246IGV4Y2VwdGlvbiwgY2F1c2U6IGNhdXNlfTtcbiAgICAgICAgICAgIGV4Y2VwdGlvbi5tZXNzYWdlID0gYXBwRXJyb3JQcmVmaXggKyBleGNlcHRpb24ubWVzc2FnZTtcbiAgICAgICAgICAgICRkZWxlZ2F0ZShleGNlcHRpb24sIGNhdXNlKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ291bGQgYWRkIHRoZSBlcnJvciB0byBhIHNlcnZpY2UncyBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICogYWRkIGVycm9ycyB0byAkcm9vdFNjb3BlLCBsb2cgZXJyb3JzIHRvIHJlbW90ZSB3ZWIgc2VydmVyLFxuICAgICAgICAgICAgICogb3IgbG9nIGxvY2FsbHkuIE9yIHRocm93IGhhcmQuIEl0IGlzIGVudGlyZWx5IHVwIHRvIHlvdS5cbiAgICAgICAgICAgICAqIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgICAgICogICAgIHRocm93IHsgbWVzc2FnZTogJ2Vycm9yIG1lc3NhZ2Ugd2UgYWRkZWQnIH07XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihleGNlcHRpb24ubWVzc2FnZSwgZXJyb3JEYXRhKTtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpOyIsIi8qKlxuICogYmxvY2tzLmV4Y2VwdGlvblxuICogRkFDVE9SWTogZXhjZXB0aW9uXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5leGNlcHRpb24nKVxuICAgICAgICAuZmFjdG9yeSgnZXhjZXB0aW9uJywgZXhjZXB0aW9uKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGV4Y2VwdGlvbihsb2dnZXIpIHtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBjYXRjaGVyOiBjYXRjaGVyXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhdGNoZXIobWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihtZXNzYWdlLCByZWFzb24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBibG9ja3MubG9nZ2VyXG4gKiBGQUNUT1JZOiBsb2dnZXJcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLmxvZ2dlcicpXG4gICAgICAgIC5mYWN0b3J5KCdsb2dnZXInLCBsb2dnZXIpO1xuXG4gICAgbG9nZ2VyLiRpbmplY3QgPSBbJyRsb2cnLCAndG9hc3RyJ107XG5cbiAgICBmdW5jdGlvbiBsb2dnZXIoJGxvZywgdG9hc3RyKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgc2hvd1RvYXN0czogdHJ1ZSxcblxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgaW5mbzogaW5mbyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgICAgICB3YXJuaW5nOiB3YXJuaW5nLFxuXG4gICAgICAgICAgICByZW1vdmVkOiByZW1vdmVkLFxuICAgICAgICAgICAgc2F2ZWQ6IHNhdmVkLFxuXG4gICAgICAgICAgICAvLyBzdHJhaWdodCB0byBjb25zb2xlOyBieXBhc3MgdG9hc3RyXG4gICAgICAgICAgICBsb2c6ICRsb2cubG9nXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy5lcnJvcignRm91dDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5mbyhtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLmluZm8obWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy5pbmZvKCdJbmZvOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLmluZm8oJ1N1Y2NlczogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy53YXJuKCdMZXQgb3A6ICcgKyBtZXNzYWdlLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZWQobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKG1lc3NhZ2UsIHRpdGxlKTtcbiAgICAgICAgICAgICRsb2cud2FybignVmVyd2lqZGVyZDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2F2ZWQobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcbiAgICAgICAgICAgICRsb2cuaW5mbygnQmV3YWFyZDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zcGx1cy5yb3V0ZXJcbiAqIEZBQ1RPUlk6IHJvdXRlaGVscGVyXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5yb3V0ZXInKVxuICAgICAgICAucHJvdmlkZXIoJ3JvdXRlaGVscGVyQ29uZmlnJywgcm91dGVoZWxwZXJDb25maWcpXG4gICAgICAgIC5mYWN0b3J5KCdyb3V0ZWhlbHBlcicsIHJvdXRlaGVscGVyKTtcblxuICAgIHJvdXRlaGVscGVyLiRpbmplY3QgPSBbJ3JvdXRlaGVscGVyQ29uZmlnJywgJyRyb290U2NvcGUnLCAnJHN0YXRlJ107XG5cbiAgICBmdW5jdGlvbiByb3V0ZWhlbHBlckNvbmZpZygpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIHRoaXMuY29uZmlnID0ge307XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdXRlaGVscGVyKHJvdXRlaGVscGVyQ29uZmlnLCAkcm9vdFNjb3BlLCAkc3RhdGUpIHtcbiAgICAgICAgdmFyICR1cmxSb3V0ZXJQcm92aWRlciA9IHJvdXRlaGVscGVyQ29uZmlnLmNvbmZpZy4kdXJsUm91dGVyUHJvdmlkZXI7XG4gICAgICAgIHZhciAkc3RhdGVQcm92aWRlciA9IHJvdXRlaGVscGVyQ29uZmlnLmNvbmZpZy4kc3RhdGVQcm92aWRlcjtcblxuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyZVN0YXRlczogY29uZmlndXJlU3RhdGVzLFxuICAgICAgICAgICAgc3RhdGVzOiBzdGF0ZXMsXG4gICAgICAgICAgICBnZXQ6IGdldFxuICAgICAgICB9O1xuXG4gICAgICAgIGluaXQoKTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gY29uZmlndXJlU3RhdGVzKHN0YXRlcykge1xuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmNvbmZpZy50aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jb25maWcubmN5QnJlYWRjcnVtYiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdGF0ZS5jb25maWcudGl0bGUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoc3RhdGUuc3RhdGUsIHN0YXRlLmNvbmZpZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHN0YXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiAkc3RhdGUuZ2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXQocGF0dGVybikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5uYW1lID09PSBwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICB1cGRhdGVEb2NUaXRsZSgpO1xuICAgICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2luZGV4L2Rhc2hib2FyZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRG9jVGl0bGUoKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGV2ZW50LCBjdXJyZW50LCBwcmV2aW91cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSByb3V0ZWhlbHBlckNvbmZpZy5jb25maWcudGl0bGUgKyAoY3VycmVudC50aXRsZSA/ICcgfCAnICsgY3VycmVudC50aXRsZSA6ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aXRsZSA9IHRpdGxlOyAvLyBkYXRhIGJpbmQgdG8gPHRpdGxlPlxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRzdGF0ZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zLndpZGdldHNcbiAqIERJUkVDVElWRTogbnRGYVxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Mud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ250RmEnLCBudEZhKTtcblxuICAgIG50RmEuJGluamVjdCA9IFtdO1xuXG4gICAgZnVuY3Rpb24gbnRGYSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHZhciBpID0gYW5ndWxhci5lbGVtZW50KCc8aSBjbGFzcz1cImZhXCIgLz4nKTtcbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0gYXR0cnMubmFtZS5zcGxpdCgnICcpO1xuXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaS5hZGRDbGFzcygnZmEtJyArIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKGkpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBub3Rvcy53aWRnZXRzXG4gKiBESVJFQ1RJVkU6IG50UGFnaW5hdGlvblxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Mud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ250UGFnaW5hdGlvbicsIG50UGFnaW5hdGlvbik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBudFBhZ2luYXRpb24oJGNvbXBpbGUpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiAnPScsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6ICc9J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jLFxuICAgICAgICAgICAgY29udHJvbGxlcjogUGFnaW5hdGVDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSAvLyBiZWNhdXNlIHRoZSBzY29wZSBpcyBpc29sYXRlZFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gYW5ndWxhci5lbGVtZW50KCc8cGFnaW5hdGlvbiAvPicpXG4gICAgICAgICAgICBwYWdpbmF0aW9uLmF0dHIoJ2RhdGEtYm91bmRhcnktbGlua3MnLCB0cnVlKTtcbiAgICAgICAgICAgIHBhZ2luYXRpb24uYXR0cignZGF0YS10b3RhbC1pdGVtcycsICd0b3RhbEl0ZW1zJyk7XG4gICAgICAgICAgICBwYWdpbmF0aW9uLmF0dHIoJ2RhdGEtaXRlbXMtcGVyLXBhZ2UnLCAnaXRlbXNQZXJQYWdlJyk7XG4gICAgICAgICAgICBwYWdpbmF0aW9uLmF0dHIoJ2RhdGEtbWF4LXNpemUnLCA1KTtcbiAgICAgICAgICAgIHBhZ2luYXRpb24uYXR0cignZGF0YS1uZy1tb2RlbCcsICdjdXJyZW50UGFnZScpO1xuICAgICAgICAgICAgcGFnaW5hdGlvbi5hdHRyKCdkYXRhLXByZXZpb3VzLXRleHQnLCAn4oC5Jyk7XG4gICAgICAgICAgICBwYWdpbmF0aW9uLmF0dHIoJ2RhdGEtbmV4dC10ZXh0JywgJ+KAuicpO1xuICAgICAgICAgICAgcGFnaW5hdGlvbi5hdHRyKCdkYXRhLWZpcnN0LXRleHQnLCAnwqsnKTtcbiAgICAgICAgICAgIHBhZ2luYXRpb24uYXR0cignZGF0YS1sYXN0LXRleHQnLCAnwrsnKTtcbiAgICAgICAgICAgIHBhZ2luYXRpb24uYXR0cignZGF0YS1uZy1oaWRlJywgJ2hpZGUnKTtcbiAgICAgICAgICAgIGlmIChhdHRyc1snY2xhc3MnXSkge1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb24uYXR0cignY2xhc3MnLCBhdHRyc1snY2xhc3MnXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRjb21waWxlKHBhZ2luYXRpb24pKHNjb3BlKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgocGFnaW5hdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgZnVuY3Rpb24gUGFnaW5hdGVDb250cm9sbGVyKCRzY29wZSkge1xuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICAgICAgdm0uaGlkZSA9IGZhbHNlO1xuICAgICAgICAgICAgdm0uaXRlbXNQZXJQYWdlID0gMTA7XG4gICAgICAgICAgICB2bS5jdXJyZW50UGdlID0gMDtcblxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgndm0udG90YWxJdGVtcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2bS5oaWRlID0gKHZtLnRvdGFsSXRlbXMgPD0gdm0uaXRlbXNQZXJQYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBub3Rvcy53aWRnZXRzXG4gKiBGSUxURVI6IG9mZnNldFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Mud2lkZ2V0cycpXG4gICAgICAgIC5maWx0ZXIoJ29mZnNldCcsIGZpbHRlcik7XG5cblxuICAgIGZ1bmN0aW9uIGZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9mZnNldChpbnB1dCwgc3RhcnQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gcGFyc2VJbnQoc3RhcnQsIDEwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQuc2xpY2Uoc3RhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9